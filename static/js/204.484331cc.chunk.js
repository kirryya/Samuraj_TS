(self.webpackChunksamuraj_ts=self.webpackChunksamuraj_ts||[]).push([[204],{5318:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},3204:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return ee}});var o=r(8489),n=r(7853),s=r(4531),i=r(8932),a=r(2587),u=r(2791),l=r(3430),c="ProfileInfo_descriptionBlockContainer__FHaHk",f="ProfileInfo_descriptionBlock__hOTZu",d="ProfileInfo_profile__+gfm7",p="ProfileInfo_profileAva__V49w-",h="ProfileInfo_changeAvatar__NB3BH",x="ProfileInfo_back__UsoIg",m="ProfileInfo_wallpaper__Lhjwq",j="ProfileInfo_userPhoto__SrikJ",v="ProfileInfo_loading__wJtD2",b="ProfileInfo_contact__R8Aet",g=r(7412),P=r(3504),_=r(4353),k=r(3032),y=r(4322),Z=r.n(y),w="ProfileDataForm_descriptionBlockContainer__v5uqb",F="ProfileDataForm_descriptionBlock__4E1f9",N="ProfileDataForm_save__897sS",S=r(5705),A=r(184),I=function(e){var t=(0,S.TA)({initialValues:{aboutMe:e.profile.aboutMe,lookingForAJob:e.profile.lookingForAJob,fullName:e.profile.fullName,lookingForAJobDescription:e.profile.lookingForAJobDescription,contacts:{facebook:e.profile.contacts.facebook?e.profile.contacts.facebook:"",website:e.profile.contacts.website?e.profile.contacts.website:"",vk:e.profile.contacts.vk?e.profile.contacts.vk:"",twitter:e.profile.contacts.twitter?e.profile.contacts.twitter:"",instagram:e.profile.contacts.instagram?e.profile.contacts.instagram:"",youtube:e.profile.contacts.youtube?e.profile.contacts.youtube:"",github:e.profile.contacts.github?e.profile.contacts.github:"",mainLink:e.profile.contacts.mainLink?e.profile.contacts.mainLink:""}},onSubmit:function(){var t=(0,k.Z)(Z().mark((function t(r){return Z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.updateProfile(r);case 2:e.onChange();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()});return(0,A.jsx)("div",{className:w,children:(0,A.jsxs)("form",{onSubmit:t.handleSubmit,className:F,children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("label",{htmlFor:"fullName",children:"FullName: "}),(0,A.jsx)("input",(0,o.Z)({id:"fullName",type:"text"},t.getFieldProps("fullName")))]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("label",{htmlFor:"aboutMe",children:"AboutMe: "}),(0,A.jsx)("input",(0,o.Z)({id:"aboutMe",type:"text"},t.getFieldProps("aboutMe")))]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("label",{htmlFor:"lookingForAJob",children:"LookingForAJob: "}),(0,A.jsx)("input",(0,o.Z)({id:"lookingForAJob",type:"checkbox"},t.getFieldProps("lookingForAJob")))]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("label",{htmlFor:"lookingForAJobDescription",children:"My professionals skills: "}),(0,A.jsx)("input",(0,o.Z)({id:"lookingForAJobDescription",type:"text"},t.getFieldProps("lookingForAJobDescription")))]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("b",{children:"Contact: "})," ",Object.keys(e.profile.contacts).map((function(e){return(0,A.jsxs)("div",{children:[(0,A.jsx)("label",{children:(0,A.jsxs)("b",{children:[e,": "]})}),(0,A.jsx)("input",(0,o.Z)({id:e,type:e,placeholder:e},t.getFieldProps("contacts.".concat(e))),e)]},e)}))]}),(0,A.jsx)("button",{type:"submit",className:N,children:"Save"})]})})},C="ProfileStatusWithHooks_main__bIMZu",O="ProfileStatusWithHooks_status__LZ1J6",M=function(e){var t=(0,u.useState)(!1),r=(0,l.Z)(t,2),o=r[0],n=r[1],s=(0,u.useState)(e.status),i=(0,l.Z)(s,2),a=i[0],c=i[1];(0,u.useEffect)((function(){c(e.status)}),[e.status]);var f=function(){n(!1),e.updateStatus(a)};return(0,A.jsxs)("div",{className:C,children:[(0,A.jsx)("span",{children:(0,A.jsx)("b",{children:"Status (change on Double Click):"})}),!o&&(0,A.jsx)("div",{children:(0,A.jsxs)("span",{onDoubleClick:function(){n(!0)},className:O,children:[e.status||"No status"," "]})}),o&&(0,A.jsx)("div",{children:(0,A.jsx)("input",{onChange:function(e){c(e.currentTarget.value)},autoFocus:!0,onBlur:f,onKeyPress:function(e){"Enter"===e.key&&f()},value:a})})]})},D=function(e){var t=(0,u.useState)(!1),r=(0,l.Z)(t,2),o=r[0],n=r[1];if(!e.profile)return(0,A.jsx)(g.Z,{});return(0,A.jsxs)("div",{children:[(0,A.jsx)("div",{children:(0,A.jsx)("img",{src:"https://storge.pic2.me/c/1360x800/323/582b0f346f341.jpg",alt:"background",className:m})}),e.isLoading?(0,A.jsx)("div",{className:v,children:(0,A.jsx)(g.Z,{})}):(0,A.jsxs)("div",{children:[e.isOwner?(0,A.jsx)("div",{className:x,children:(0,A.jsx)("button",{onClick:function(){n(!0)},children:"Edit Profile"})}):(0,A.jsx)(P.OL,{to:"/users",children:(0,A.jsx)("div",{className:x,children:"Back to Users"})}),(0,A.jsxs)("div",{className:d,children:[(0,A.jsxs)("div",{className:p,children:[(0,A.jsx)("img",{src:e.profile.photos.large||_,alt:"Avatar",className:j}),(0,A.jsxs)("div",{className:h,children:[(0,A.jsx)("b",{children:"Change Avatar: "}),e.isOwner&&(0,A.jsx)("input",{type:"file",onChange:function(t){t.currentTarget.files&&t.currentTarget.files.length&&e.savePhoto(t.currentTarget.files[0])}})]})]}),(0,A.jsx)("div",{children:o?(0,A.jsx)(I,{updateProfile:e.updateProfile,onChange:function(){n(!1)},profile:e.profile}):(0,A.jsx)(T,{profile:e.profile,isOwner:e.isOwner,status:e.status,updateStatus:e.updateStatus,savePhoto:e.savePhoto,isLoading:e.isLoading,error:e.error})})]})]})]})},T=function(e){return(0,A.jsx)("div",{className:c,children:(0,A.jsxs)("div",{className:f,children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("b",{children:"Full name:"})," ",e.profile.fullName]}),(0,A.jsx)(M,{status:e.status,updateStatus:e.updateStatus}),(0,A.jsxs)("div",{children:[(0,A.jsx)("b",{children:"About me:"})," ",e.profile.aboutMe]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("b",{children:"Looking for a job:"})," ",e.profile.lookingForAJob?"Yes":"No"," "]}),e.profile.lookingForAJob&&(0,A.jsxs)("div",{children:[(0,A.jsx)("b",{children:"My professionals skills:"})," ",e.profile.lookingForAJobDescription]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("b",{children:"Contact: "})," ",Object.keys(e.profile.contacts).map((function(t){return(0,A.jsx)(J,{title:t,value:e.profile&&e.profile.contacts[t]},t)}))]}),(0,A.jsx)("div",{style:{color:"red"},children:e.error&&e.error})]})})},J=function(e){var t=e.title,r=e.value;return(0,A.jsxs)("div",{className:b,children:[(0,A.jsxs)("b",{children:[t,": "]})," ",r]})},L=r(81),E="MyPosts_postsBlock__foanX",B="MyPosts_posts__N-3qo",U="Post_item__wqc3I",H=function(e){return(0,A.jsxs)("div",{className:U,children:[(0,A.jsx)("img",{src:"https://shapka-youtube.ru/wp-content/uploads/2021/02/avatarka-dlya-skaypa-dlya-parney.jpg",alt:"Avatar"}),e.message,(0,A.jsxs)("div",{children:[(0,A.jsx)("span",{children:e.likeCount}),(0,A.jsx)("span",{children:" likes"})]})]})},q=r(7159),R=r(6151),W=r(1686),z=function(e){var t=e.posts.map((function(e){return(0,A.jsx)(H,{message:e.message,likeCount:e.likeCount},e.id)})),r=(0,S.TA)({initialValues:{newPostText:""},validate:function(e){var t={};return e.newPostText||(t.newPostText="Required"),t},onSubmit:function(t){e.addPosts(t.newPostText),r.resetForm()}});return(0,A.jsxs)("div",{className:E,children:[(0,A.jsx)("h3",{children:"My posts"}),(0,A.jsx)("div",{children:(0,A.jsxs)("form",{onSubmit:r.handleSubmit,children:[r.touched.newPostText&&r.errors.newPostText&&(0,A.jsx)("div",{style:{color:"red"},children:r.errors.newPostText}),(0,A.jsx)(q.Z,(0,o.Z)({id:"outlined-basic",label:"Enter your post",variant:"outlined"},r.getFieldProps("newPostText"))),(0,A.jsx)(R.Z,{type:"submit",variant:"outlined",endIcon:(0,A.jsx)(W.Z,{}),style:{maxWidth:"100px",maxHeight:"50px",minWidth:"131px",minHeight:"56px"},children:"Add Post"})]})}),(0,A.jsx)("div",{className:B,children:t})]})},V=r(7375),G=(0,V.$j)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{addPosts:function(t){e((0,L.Pi)(t))}}}))(z),$=function(e){return(0,A.jsxs)("div",{children:[(0,A.jsx)(D,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,isLoading:e.isLoading,updateProfile:e.updateProfile,error:e.error}),(0,A.jsx)(G,{})]})},Y=r(8835),K=r(2789),X=r(6871);var Q=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,s.Z)(r,[{key:"refreshProfile",value:function(){var e=this.props.router.params.userID;e||(e=this.props.authorizedUserId)||(e=this.props.history.push("/login")),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,r){this.props.router.params.userID!==e.router.params.userID&&this.refreshProfile()}},{key:"render",value:function(){return(0,A.jsx)($,(0,o.Z)((0,o.Z)({},this.props),{},{isOwner:!this.props.router.params.userID,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto,isLoading:this.props.isLoading,updateProfile:this.props.updateProfile,error:this.props.error}))}}]),r}(u.Component),ee=(0,K.qC)((0,V.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.data.id,isAuth:e.auth.isAuth,isLoading:e.profilePage.isLoading,error:e.app.error}}),{getUserProfile:L.et,getStatus:L.lR,updateStatus:L.Nf,savePhoto:L.Ju,updateProfile:L.ck}),(function(e){return function(t){var r=(0,X.TH)(),n=(0,X.s0)(),s=(0,X.UO)();return(0,A.jsx)(e,(0,o.Z)((0,o.Z)({},t),{},{router:{location:r,navigate:n,params:s}}))}}),Y.e)(Q)},8835:function(e,t,r){"use strict";r.d(t,{e:function(){return c}});var o=r(8489);function n(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},s=Object.keys(e);for(o=0;o<s.length;o++)r=s[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)r=s[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}r(2791);var s=r(6871),i=r(7375),a=r(184),u=["isAuth"],l=function(e){return{isAuth:e.auth.isAuth}};function c(e){return(0,i.$j)(l)((function(t){var r=t.isAuth,i=n(t,u);return r?(0,a.jsx)(e,(0,o.Z)({},i)):(0,a.jsx)(s.Fg,{to:"/login"})}))}},1686:function(e,t,r){"use strict";var o=r(5318);t.Z=void 0;var n=o(r(5649)),s=r(184),i=(0,n.default)((0,s.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send");t.Z=i},5649:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.createSvgIcon}});var o=r(4454)},4454:function(e,t,r){"use strict";r.r(t),r.d(t,{capitalize:function(){return n.Z},createChainedFunction:function(){return s},createSvgIcon:function(){return i.Z},debounce:function(){return a.Z},deprecatedPropType:function(){return u},isMuiElement:function(){return l.Z},ownerDocument:function(){return c.Z},ownerWindow:function(){return f.Z},requirePropFactory:function(){return d},setRef:function(){return p},unstable_ClassNameGenerator:function(){return P},unstable_useEnhancedEffect:function(){return h.Z},unstable_useId:function(){return x},unsupportedProp:function(){return m},useControlled:function(){return j.Z},useEventCallback:function(){return v.Z},useForkRef:function(){return b.Z},useIsFocusVisible:function(){return g.Z}});var o=r(5902),n=r(4036),s=r(8949).Z,i=r(9201),a=r(3199);var u=function(e,t){return function(){return null}},l=r(9103),c=r(8301),f=r(7602);r(7462);var d=function(e,t){return function(){return null}},p=r(2971).Z,h=r(162),x=r(6248).Z;var m=function(e,t,r,o,n){return null},j=r(8744),v=r(9683),b=r(2071),g=r(3031),P={configure:function(e){console.warn(["MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.","","You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead","","The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401","","The updated documentation: https://mui.com/guides/classname-generator/"].join("\n")),o.Z.configure(e)}}}}]);
//# sourceMappingURL=204.484331cc.chunk.js.map