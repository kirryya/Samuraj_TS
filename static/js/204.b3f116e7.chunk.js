(self.webpackChunksamuraj_ts=self.webpackChunksamuraj_ts||[]).push([[204],{5318:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},3204:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return X}});var n=r(8489),o=r(7853),i=r(4531),s=r(8932),u=r(2587),a=r(2791),l=r(3430),c="ProfileInfo_descriptionBlockContainer__FHaHk",d="ProfileInfo_descriptionBlock__hOTZu",f="ProfileInfo_profile__+gfm7",p="ProfileInfo_profileAva__V49w-",h="ProfileInfo_changeAvatar__NB3BH",x="ProfileInfo_back__UsoIg",m="ProfileInfo_wallpaper__Lhjwq",v="ProfileInfo_userPhoto__SrikJ",j="ProfileInfo_loading__wJtD2",g="ProfileInfo_contact__R8Aet",b=r(7412),P=r(3504),_="ProfileStatusWithHooks_main__bIMZu",k="ProfileStatusWithHooks_status__LZ1J6",Z=r(184),y=function(e){var t=(0,a.useState)(!1),r=(0,l.Z)(t,2),n=r[0],o=r[1],i=(0,a.useState)(e.status),s=(0,l.Z)(i,2),u=s[0],c=s[1];(0,a.useEffect)((function(){c(e.status)}),[e.status]);var d=function(){o(!1),e.updateStatus(u)};return(0,Z.jsxs)("div",{className:_,children:[(0,Z.jsx)("span",{children:(0,Z.jsx)("b",{children:"Status:"})}),!n&&(0,Z.jsx)("div",{children:(0,Z.jsxs)("span",{onDoubleClick:function(){o(!0)},className:k,children:[e.status||"------"," "]})}),n&&(0,Z.jsx)("div",{children:(0,Z.jsx)("input",{onChange:function(e){c(e.currentTarget.value)},autoFocus:!0,onBlur:d,onKeyPress:function(e){"Enter"===e.key&&d()},value:u})})]})},F=r(4353),N="ProfileDataForm_descriptionBlockContainer__v5uqb",A="ProfileDataForm_descriptionBlock__4E1f9",S="ProfileDataForm_back__AHKee",w=r(5705),I=r(559),C=function(e){var t=(0,I.CG)((function(e){var t;return null===(t=e.profilePage.profile)||void 0===t?void 0:t.aboutMe})),r=(0,I.CG)((function(e){var t;return null===(t=e.profilePage.profile)||void 0===t?void 0:t.lookingForAJob})),o=(0,I.CG)((function(e){var t;return null===(t=e.profilePage.profile)||void 0===t?void 0:t.fullName})),i=(0,I.CG)((function(e){var t;return null===(t=e.profilePage.profile)||void 0===t?void 0:t.lookingForAJobDescription})),s=(0,w.TA)({initialValues:{aboutMe:t,lookingForAJob:r,fullName:o,lookingForAJobDescription:i},onSubmit:function(t){e.updateProfile(t)}});return(0,Z.jsx)("div",{className:N,children:(0,Z.jsxs)("form",{onSubmit:s.handleSubmit,className:A,children:[(0,Z.jsxs)("div",{children:[(0,Z.jsx)("label",{htmlFor:"fullName",children:"fullName"}),(0,Z.jsx)("input",(0,n.Z)({id:"fullName",type:"text"},s.getFieldProps("fullName")))]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("label",{htmlFor:"aboutMe",children:"aboutMe"}),(0,Z.jsx)("input",(0,n.Z)({id:"aboutMe",type:"text"},s.getFieldProps("aboutMe")))]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("label",{htmlFor:"lookingForAJob",children:"lookingForAJob"}),(0,Z.jsx)("input",(0,n.Z)({id:"lookingForAJob",type:"checkbox"},s.getFieldProps("lookingForAJob")))]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("label",{htmlFor:"lookingForAJobDescription",children:"lookingForAJobDescription"}),(0,Z.jsx)("input",(0,n.Z)({id:"lookingForAJobDescription",type:"text"},s.getFieldProps("lookingForAJobDescription")))]}),(0,Z.jsx)("button",{type:"submit",className:S,children:"Submit"})]})})},O=function(e){var t=(0,a.useState)(!1),r=(0,l.Z)(t,2),n=r[0],o=r[1];if(!e.profile)return(0,Z.jsx)(b.Z,{});return(0,Z.jsxs)("div",{children:[(0,Z.jsx)("div",{children:(0,Z.jsx)("img",{src:"https://storge.pic2.me/c/1360x800/323/582b0f346f341.jpg",alt:"background",className:m})}),e.isLoading?(0,Z.jsx)("div",{className:j,children:(0,Z.jsx)(b.Z,{})}):(0,Z.jsxs)("div",{children:[e.isOwner?(0,Z.jsx)("div",{className:x,children:(0,Z.jsx)("button",{onClick:function(){return o(!0)},children:"Edit Profile"})}):(0,Z.jsx)(P.OL,{to:"/users",children:(0,Z.jsx)("div",{className:x,children:"Back to Users"})}),(0,Z.jsxs)("div",{className:f,children:[(0,Z.jsxs)("div",{className:p,children:[(0,Z.jsx)("img",{src:e.profile.photos.large||F,alt:"Avatar",className:v}),(0,Z.jsx)("div",{className:h,children:e.isOwner&&(0,Z.jsx)("input",{type:"file",onChange:function(t){t.currentTarget.files&&t.currentTarget.files.length&&e.savePhoto(t.currentTarget.files[0])}})})]}),(0,Z.jsx)("div",{children:n?(0,Z.jsx)(C,{updateProfile:e.updateProfile}):(0,Z.jsx)(D,{profile:e.profile,isOwner:e.isOwner,status:e.status,updateStatus:e.updateStatus,savePhoto:e.savePhoto,isLoading:e.isLoading})})]})]})]})},D=function(e){return(0,Z.jsx)("div",{className:c,children:(0,Z.jsxs)("div",{className:d,children:[(0,Z.jsxs)("div",{children:[(0,Z.jsx)("b",{children:"Full name:"})," ",e.profile.fullName]}),(0,Z.jsx)(y,{status:e.status,updateStatus:e.updateStatus}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("b",{children:"About me:"})," ",e.profile.aboutMe]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("b",{children:"Looking for a job:"})," ",e.profile.lookingForAJob?"Yes":"No"," "]}),e.profile.lookingForAJob&&(0,Z.jsxs)("div",{children:[(0,Z.jsx)("b",{children:"About a job:"})," ",e.profile.lookingForAJobDescription]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("b",{children:"Contact: "})," ",Object.keys(e.profile.contacts).map((function(t){return(0,Z.jsx)(J,{title:t,value:e.profile&&e.profile.contacts[t]},t)}))]})]})})},J=function(e){var t=e.title,r=e.value;return(0,Z.jsxs)("div",{className:g,children:[(0,Z.jsxs)("b",{children:[t,": "]})," ",r]})},T=r(81),M="MyPosts_postsBlock__foanX",L="MyPosts_posts__N-3qo",E="Post_item__wqc3I",B=function(e){return(0,Z.jsxs)("div",{className:E,children:[(0,Z.jsx)("img",{src:"https://shapka-youtube.ru/wp-content/uploads/2021/02/avatarka-dlya-skaypa-dlya-parney.jpg",alt:"Avatar"}),e.message,(0,Z.jsxs)("div",{children:[(0,Z.jsx)("span",{children:e.likeCount}),(0,Z.jsx)("span",{children:" likes"})]})]})},H=r(7159),U=r(6151),q=r(1686),G=function(e){var t=e.posts.map((function(e){return(0,Z.jsx)(B,{message:e.message,likeCount:e.likeCount},e.id)})),r=(0,w.TA)({initialValues:{newPostText:""},validate:function(e){var t={};return e.newPostText||(t.newPostText="Required"),t},onSubmit:function(t){e.addPosts(t.newPostText),r.resetForm()}});return(0,Z.jsxs)("div",{className:M,children:[(0,Z.jsx)("h3",{children:"My posts"}),(0,Z.jsx)("div",{children:(0,Z.jsxs)("form",{onSubmit:r.handleSubmit,children:[r.touched.newPostText&&r.errors.newPostText&&(0,Z.jsx)("div",{style:{color:"red"},children:r.errors.newPostText}),(0,Z.jsx)(H.Z,(0,n.Z)({id:"outlined-basic",label:"Enter your post",variant:"outlined"},r.getFieldProps("newPostText"))),(0,Z.jsx)(U.Z,{type:"submit",variant:"outlined",endIcon:(0,Z.jsx)(q.Z,{}),style:{maxWidth:"100px",maxHeight:"50px",minWidth:"131px",minHeight:"56px"},children:"Add Post"})]})}),(0,Z.jsx)("div",{className:L,children:t})]})},R=r(7375),W=(0,R.$j)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{addPosts:function(t){e((0,T.Pi)(t))}}}))(G),z=function(e){return(0,Z.jsxs)("div",{children:[(0,Z.jsx)(O,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,isLoading:e.isLoading,updateProfile:e.updateProfile}),(0,Z.jsx)(W,{})]})},V=r(8835),$=r(2789),K=r(6871);var Y=function(e){(0,s.Z)(r,e);var t=(0,u.Z)(r);function r(){return(0,o.Z)(this,r),t.apply(this,arguments)}return(0,i.Z)(r,[{key:"refreshProfile",value:function(){var e=this.props.router.params.userID;e||(e=this.props.authorizedUserId)||(e=this.props.history.push("/login")),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,r){this.props.router.params.userID!==e.router.params.userID&&this.refreshProfile()}},{key:"render",value:function(){return(0,Z.jsx)(z,(0,n.Z)((0,n.Z)({},this.props),{},{isOwner:!this.props.router.params.userID,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto,isLoading:this.props.isLoading,updateProfile:this.props.updateProfile}))}}]),r}(a.Component),X=(0,$.qC)((0,R.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.data.id,isAuth:e.auth.isAuth,isLoading:e.profilePage.isLoading}}),{getUserProfile:T.et,getStatus:T.lR,updateStatus:T.Nf,savePhoto:T.Ju,updateProfile:T.ck}),(function(e){return function(t){var r=(0,K.TH)(),o=(0,K.s0)(),i=(0,K.UO)();return(0,Z.jsx)(e,(0,n.Z)((0,n.Z)({},t),{},{router:{location:r,navigate:o,params:i}}))}}),V.e)(Y)},8835:function(e,t,r){"use strict";r.d(t,{e:function(){return c}});var n=r(8489);function o(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}r(2791);var i=r(6871),s=r(7375),u=r(184),a=["isAuth"],l=function(e){return{isAuth:e.auth.isAuth}};function c(e){return(0,s.$j)(l)((function(t){var r=t.isAuth,s=o(t,a);return r?(0,u.jsx)(e,(0,n.Z)({},s)):(0,u.jsx)(i.Fg,{to:"/login"})}))}},1686:function(e,t,r){"use strict";var n=r(5318);t.Z=void 0;var o=n(r(5649)),i=r(184),s=(0,o.default)((0,i.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send");t.Z=s},5649:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=r(4454)},4454:function(e,t,r){"use strict";r.r(t),r.d(t,{capitalize:function(){return o.Z},createChainedFunction:function(){return i},createSvgIcon:function(){return s.Z},debounce:function(){return u.Z},deprecatedPropType:function(){return a},isMuiElement:function(){return l.Z},ownerDocument:function(){return c.Z},ownerWindow:function(){return d.Z},requirePropFactory:function(){return f},setRef:function(){return p},unstable_ClassNameGenerator:function(){return P},unstable_useEnhancedEffect:function(){return h.Z},unstable_useId:function(){return x},unsupportedProp:function(){return m},useControlled:function(){return v.Z},useEventCallback:function(){return j.Z},useForkRef:function(){return g.Z},useIsFocusVisible:function(){return b.Z}});var n=r(5902),o=r(4036),i=r(8949).Z,s=r(9201),u=r(3199);var a=function(e,t){return function(){return null}},l=r(9103),c=r(8301),d=r(7602);r(7462);var f=function(e,t){return function(){return null}},p=r(2971).Z,h=r(162),x=r(6248).Z;var m=function(e,t,r,n,o){return null},v=r(8744),j=r(9683),g=r(2071),b=r(3031),P={configure:function(e){console.warn(["MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.","","You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead","","The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401","","The updated documentation: https://mui.com/guides/classname-generator/"].join("\n")),n.Z.configure(e)}}}}]);
//# sourceMappingURL=204.b3f116e7.chunk.js.map